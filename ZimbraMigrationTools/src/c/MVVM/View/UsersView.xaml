<UserControl 
    x:Class="MVVM.View.UsersView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Misc="clr-namespace:Misc;assembly=Misc"
    >
    <Grid Name="UsersGrid">
        <Grid.Background>
            <ImageBrush ImageSource="/MVVM;component/View/Images/bg.png"  />
        </Grid.Background>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
        </Grid.RowDefinitions>
        <TextBlock Grid.Row="0" HorizontalAlignment="Left" Margin="30,30,30,0" Name="usersText" Text="To select users, use the population tools, Load CSV button, or Add button.  Use Save CSV to save the user list to a new .csv file." TextWrapping="Wrap" VerticalAlignment="Top" />
        <GroupBox Header="Population Tools" Grid.Row="1" Margin="30,20,30,0" HorizontalAlignment="Stretch" Name="GBPop" VerticalAlignment="Top" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition Width="*"></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Button Grid.Column="0" HorizontalAlignment="Left"  HorizontalContentAlignment="Left" Name="objPickerButton" Command="{Binding ObjectPickerCommand}" Width="{Binding ElementName=queryBuilderButton, Path=ActualWidth}"> Object Picker...</Button>
                <Button Grid.Column="1" HorizontalAlignment="Center" HorizontalContentAlignment="Left" Name="queryBuilderButton" Command="{Binding QueryBuilderCommand}" >Query Builder...</Button>
                <Button Grid.Column="2" HorizontalAlignment="Right"  HorizontalContentAlignment="Left" Name="publicFolderButton" Command="{Binding PublicFolderCommand}" Width="{Binding ElementName=queryBuilderButton, Path=ActualWidth}">Public Folder...</Button>
            </Grid>
        </GroupBox>
        <DataGrid Grid.Row="2" Margin="30,20,30,0" Name="dgUsers" AutoGenerateColumns="False" CanUserAddRows="True" SelectionMode="Single" ItemsSource="{Binding UsersList}" SelectedIndex="{Binding Path=CurrentUserSelection, Mode=TwoWay}" MinHeight="165" MaxHeight="165" MinWidth="{Binding ElementName=GBPop, Path=ActualWidth}" MaxWidth="{Binding ElementName=GBPop, Path=ActualWidth}">
            <DataGrid.Columns>
                <DataGridTextColumn Width="*" Header="Source Name" Binding="{Binding Path=Username}"></DataGridTextColumn>
                <DataGridTextColumn Width="*" Header="Destination Name" Binding="{Binding Path=MappedName}"></DataGridTextColumn>               
            </DataGrid.Columns>
        </DataGrid>
        <Grid Name="UserButtons" Grid.Row="3" Margin="30,20,30,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
                <ColumnDefinition Width="*"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Button Grid.Column="0" MinWidth="75" HorizontalAlignment="Center" HorizontalContentAlignment="Center" Name="addButton" Command="{Binding AddCommand}" Content="Add" />
            <Button Grid.Column="1" MinWidth="75" HorizontalAlignment="Center" HorizontalContentAlignment="Center" Name="removeButton" IsEnabled="{Binding MinusEnabled}" Command="{Binding RemoveCommand}" Content="Remove" />
            <Button Grid.Column="2" MinWidth="75" HorizontalAlignment="Center"  HorizontalContentAlignment="Center" Name="loadCSVButton" Command="{Binding UserMapCommand}" >Load CSV...</Button>
            <Button Grid.Column="3" MinWidth="75" HorizontalAlignment="Center"  HorizontalContentAlignment="Center" Name="saveCSVButton" Command="{Binding SaveCSVCommand}" >Save CSV...</Button>
        </Grid>
        <Label Grid.Row="4" Margin="20,20,0,0" Content="Import users into domain" HorizontalAlignment="Left" Name="labelDomain" VerticalAlignment="Top"/>
        <ComboBox Grid.Row="4" Margin="180,20,0,0" HorizontalAlignment="Left" MinWidth="180" Name="cbDomain" VerticalAlignment="Center" SelectedIndex="{Binding Path=CurrentDomainSelection, Mode=TwoWay}" ItemsSource="{Binding Path=DomainList}">
        </ComboBox>
        <Separator Grid.Row="5" Margin="5,15,5,0" VerticalAlignment="Top"/>
        <Grid Name="BottomGrid" Grid.Row="6" >
            <Button MinWidth="75" MinHeight="21" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="5,10,0,0" Content="Help" Name="buttonUsersHelp" Command="{Binding GetUsersHelpCommand}"  />
            <Button MinWidth="75" MinHeight="21" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="85,10,0,0" Content="Load" Name="buttonUsersLoad" IsEnabled="False"  />
            <Button MinWidth="75" MinHeight="21" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="165,10,0,0" Content="Save" Name="buttonUsersSav" IsEnabled="False"  />
            <Button MinWidth="75" MinHeight="21" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,10,85,0" Content="&lt; Back" Name="buttonUsersBack" Command="{Binding BackCommand}" IsEnabled="True"  />
            <Button MinWidth="75" MinHeight="21" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,10,5,0" Content="Next &gt;" Name="buttonUsersNext" Command="{Binding NextCommand}" IsEnabled="{Binding Path=EnableNext}"  />
        </Grid>
    </Grid>
</UserControl>
