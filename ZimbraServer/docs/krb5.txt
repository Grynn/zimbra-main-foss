Grab the source from:

http://web.mit.edu/Kerberos/

To install, read the install guide (currently online at http://web.mit.edu/Kerberos/krb5-1.6/), or follow these steps (as root):

1. tar xvf krb5-1.6.2-signed.tar

2. tar tzvf krb5-1.6.2.tar.gz

3. cd krb5-1.6.2/src

4. ./configure --prefix=/usr/local

5. make

6. make install

7. edit/create /etc/krb5.conf. A sample krb5.conf file looks like:

[libdefaults]
        default_realm = MACPRO.LOCAL

[realms]
        MACPRO.LOCAL = {
                kdc = macpro.local
                admin_server = macpro.local
         }

[logging]
    kdc = FILE:/var/log/krb5kdc.log
    admin_server = FILE:/var/log/kadmin.log
    default = FILE:/var/log/krb5lib.log

Substitue MACPRO.LOCAL for your Kerberos Realm name (can be whatever you want, typically your domain name uppercased though),
and "macpro.local" with the server you are installing the Kerberos KDC on.

Make sure the specified log directory exists.

NOTE: the /etc/krb5.conf file should get installed on any client machines using Kerberos (i.e., all the mailbox servers)

8. Create  /usr/local/var/krb5kdc/kdc.conf

this is the config file used by the server. You can just copy krb5.conf to kdc.conf, since we aren't doing anything special.

9. create the kerberos database, using the same REALM name as step (7):

/usr/local/sbin/kdb5_util create -r MACPRO.LOCAL -s

10. create: /usr/local/var/krb5kdc/kadm5.acl

this is the ACL file used for remote admin. You can just add a single line:

*/admin@MACPRO.LOCAL *

which grants all access to any admin principals.

11. Create some Kerberos accounts, for testing/admin:

/usr/local/sbin/kadmin.local

macpro:/usr/local schemers$ /usr/local/sbin/kadmin.local
Authenticating as principal schemers/admin@MACPRO.LOCAL with password.
kadmin.local:  addprinc schemers/admin@MACPRO.LOCAL
addprinc schemers/admin@MACPRO.LOCAL
WARNING: no policy specified for schemers/admin@MACPRO.LOCAL; defaulting to no policy
Enter password for principal "schemers/admin@MACPRO.LOCAL": admin123
Re-enter password for principal "schemers/admin@MACPRO.LOCAL": admin123
Principal "schemers/admin@MACPRO.LOCAL" created.

kadmin.local:  addprinc user1@MACPRO.LOCAL
addprinc user1@MACPRO.LOCAL
WARNING: no policy specified for user1@MACPRO.LOCAL; defaulting to no policy
Enter password for principal "user1@MACPRO.LOCAL": test123
Re-enter password for principal "user1@MACPRO.LOCAL": test123
Principal "user1@MACPRO.LOCAL" created.
kadmin.local:  exit

The second user (user1@MACPRO.LOCAL) we created will be used for testing. First user is an admin user, and only needed for remote admin.

12. start up the KDC and the kadmind:

  /usr/local/sbin/krb5kdc
  /usr/local/sbin/kadmind

You should be able to now config external Kerberos AUTH for passwords.

This document should get updated when we add SASL IMAP support, etc.
