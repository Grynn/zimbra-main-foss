//
// Create
//
// A Document represents a file.  A file can be created by uploading to FileUploadServlet.
// Or it can refer to an attachment of an existing message.
//
<SaveDocumentRequest>
  <doc name="{file-name}" [ctype="{content-type}"]>
    [<upload id="{upload-id}"/>]
    [<msg id="{msg-id}" part="{part-id}"/>]
  </doc>
</SaveDocumentRequest>

<SaveDocumentResponse>
  <m id="{item-id}"/>
</SaveDocumentResponse>

//
// A Wiki is a versioned HTML document.
//
<SaveWikiRequest>
  <m>
    <su>{subject}</su>
    <content>...</content>
  </m>
</SaveWikiRequest>

<SaveWikiResponse>
  <m id="{item-id}"/>
</SaveWikiResponse>

//
// Search
// Documents and Wiki documents can be indexed.  
// Use the existing Search API with "types" set to wiki or document.
//

// Get
// through the rest URL:
// http://server/zimbra/user/[~]{account-name}/?id={item-id}
//
// through the SOAP API:
// the list of wiki words are managed by the server.  currently Subject:
// header value is used for the wiki word.

//
// ListWiki
// returns list of wiki words for this account
<ListWikiRequest/>

<ListWikiResponse>
  [<w>{word}</w><ver>{head-version}</ver>]+
</ListWikiResponse>

//
// GetWiki
// returns the latest version if version is omitted from the request.
<GetWikiRequest>
  <w name="{word}" [ver="{version}"]/>
</GetWikiRequest>

<GetWikiResponse>
  <m id="{message-id}" f="{flags}" t="{tags}" s="{size}" d="{created-date}" l="{folder}">
   <su>{subject}</su>
   <ver>{version}</ver>
   <cr>{creator}</cr>
   <content>...</content>
  </m>
</GetWikiResponse>

//
// DiffWiki
<DiffWikiRequest>
  <w name="{word}" v1="{version}" v2="{version}"/>
</DiffWikiRequest>

<DiffWikiResponse>
  <!-- TBD -->
</DiffWikiResponse>
