diff -ur rlfe-0.4/Makefile.in /tmp/q/readline-6.1/examples/rlfe/Makefile.in
--- rlfe-0.4/Makefile.in	2004-11-04 16:01:59.000000000 -0800
+++ /tmp/q/readline-6.1/examples/rlfe/Makefile.in	2009-02-22 14:27:18.000000000 -0800
@@ -25,7 +25,7 @@
 CPPFLAGS = @CPPFLAGS@
 #LDFLAGS = -L$(READLINE_DIR)
 LDFLAGS = @LDFLAGS@
-LIBS = -lreadline -lhistory -lncurses
+LIBS = -lreadline -lhistory @LIBS@
 
 CPP=@CPP@
 CPP_DEPEND=$(CC) -MM
@@ -55,7 +55,7 @@
 	tar czf $@ $(CFILES) $(HFILES) $(EXTRA_DIST)
 
 .c.o:
-	$(CC) -c -I. -I$(srcdir) $(M_CFLAGS) $(DEFS) $(OPTIONS) $(CFLAGS) $<
+	$(CC) -c -I. -I$(srcdir) $(CPPFLAGS) $(M_CFLAGS) $(DEFS) $(OPTIONS) $(CFLAGS) $<
 
 install_bin: .version screen
 	-if [ -f $(DESTDIR)$(bindir)/$(SCREEN) ] && [ ! -f $(DESTDIR)$(bindir)/$(SCREEN).old ]; \
@@ -68,7 +68,6 @@
 	(cd $(DESTDIR)$(bindir) && ln -sf $(SCREEN) screen)
 	cp $(srcdir)/utf8encodings/?? $(DESTDIR)$(SCREENENCODINGS)
 
-
 uninstall: .version
 	rm -f $(DESTDIR)$(bindir)/$(SCREEN)
 	rm -f $(DESTDIR)$(bindir)/screen
@@ -170,6 +169,15 @@
 	for i in $(CFILES); do echo $$i; $(CPP_DEPEND) $$i >> tmp_make; done 
 	mv tmp_make Makefile.in
 
+Makefile makefile:	config.status $(srcdir)/Makefile.in
+	CONFIG_FILES=Makefile CONFIG_HEADERS= $(SHELL) ./config.status
+
+config.status:	$(srcdir)/configure
+	$(SHELL) ./config.status --recheck
+
+$(srcdir)/configure:	$(srcdir)/configure.in
+	cd $(srcdir) && autoconf
+
 ###############################################################################
 
 ### Dependencies:
