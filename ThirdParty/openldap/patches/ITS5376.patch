--- openldap-2.3.40/servers/slapd/syncrepl.c.orig	2008-02-12 20:59:26.000000000 -0800
+++ openldap-2.3.40/servers/slapd/syncrepl.c	2008-02-12 21:04:58.000000000 -0800
@@ -724,6 +724,9 @@
 					if ( syncrepl_message_to_op( si, op, msg ) == LDAP_SUCCESS &&
 						!BER_BVISNULL( &syncCookie.ctxcsn ) ) {
 						syncrepl_updateCookie( si, op, psub, &syncCookie );
+					} else if ( rc == LDAP_NO_SUCH_OBJECT ) {
+						rc = LDAP_SYNC_REFRESH_REQUIRED;
+						si->si_logstate = SYNCLOG_FALLBACK;
 					}
 				} else if ( syncrepl_message_to_entry( si, op, msg,
 					&modlist, &entry, syncstate ) == LDAP_SUCCESS ) {
@@ -1405,7 +1408,9 @@
 			be_entry_release_w( op, op->ora_e );
 		} else {
 			op->orm_modlist = modlist;
+			op->o_permissive_modify = SLAP_CONTROL_NONCRITICAL;
 			rc = op->o_bd->be_modify( op, &rs );
+			op->o_permissive_modify = SLAP_CONTROL_NONE;
 			modlist = op->orm_modlist;
 			Debug( rc ? LDAP_DEBUG_ANY : LDAP_DEBUG_SYNC,
 				"syncrepl_message_to_op: rid %03d be_modify %s (%d)\n", 
